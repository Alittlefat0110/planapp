<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.example.getmail.mapper.FilterMapper">
    <resultMap id="EmailFilterMap" type="com.example.getmail.entity.EmailFilter">
        <result column="filter_id" property="filter_id"/>
        <result column="username" property="username"/>
        <result column="filter_name" property="filter_name"/>
        <result column="filter_key" property="filter_key"/>
        <result column="type" property="type"/>
        <result column="createTime" property="createtime"/>
        <result column="updateTime" property="updatetime"/>
        <result column="flag" property="flag"/>
    </resultMap>

    <!--设置过滤-->
    <insert  id="addFilter" parameterType="com.example.getmail.mapper.FilterMapper" keyProperty="filter_id" useGeneratedKeys="true" >
        insert into email_filter (filter_id,username,filter_name,filter_key, type,createtime,updatetime,flag) values
        <foreach collection="list" separator="," item="cus">
            (#{cus.filter_id},
            #{cus.username},
            #{cus.filter_name},
            #{cus.filter_key},
            #{cus.type},
            #{cus.createtime},
            #{cus.updatetime},
            #{cus.flag})
        </foreach>
    </insert>
    <!--查询过滤信息-->
    <select id="selectFilter" resultMap="EmailFilterMap" >
        SELECT filter_name,filter_key FROM email_filter where username=#{username}
    </select>
</mapper>